<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>3_Events_GameLevel</name>
    <events>
        <include>01_Events_Global_Controls</include>
        <variable constant="0" name="TotalRainbowBulletCount" sid="693088564055212" static="0" type="number">0</variable>
        <variable constant="0" name="TotalCitizensSaved" sid="3534707611111109" static="0" type="number">0</variable>
        <variable constant="0" name="TotalCandyBulletCount" sid="8599078261025987" static="0" type="number">0</variable>
        <event-group description="" sid="6751876879905373" title="Game Layout Start and End">
            <sub-events>
                <event-block sid="4333088210874629">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="3013558777734114" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" sid="5343547594831993" type="Audio">
                            <param id="0" name="Audio file">InGame</param>
                            <param id="2" name="Loop">1</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="0" name="Set text" sid="5838715055306724" type="GUI_CitizenCountText">
                            <param id="0" name="Text">Player.CitizensSaved</param>
                        </action>
                        <action id="0" name="Set text" sid="1922845420089396" type="GUI_CandyCountText">
                            <param id="0" name="Text">Player.CandyBulletCount</param>
                        </action>
                        <action id="0" name="Set text" sid="9124102598362206" type="GUI_RainbowCountText">
                            <param id="0" name="Text">Player.RainbowBulletCount</param>
                        </action>
                        <action id="-10" name="Set value" sid="9368837686048062" type="Player">
                            <param id="0" name="Instance variable">CandyBulletCount</param>
                            <param id="1" name="Value">10</param>
                        </action>
                        <action id="-10" name="Set value" sid="6805118353396393" type="Player">
                            <param id="0" name="Instance variable">RainbowBulletCount</param>
                            <param id="1" name="Value">10</param>
                        </action>
                        <action id="-5" name="Set width" sid="3749090449798706" type="GUI_PlayerHealthGauge">
                            <param id="0" name="Width">Player.PlayerHealth/5</param>
                        </action>
                        <action id="-9" name="Set value" sid="401427421248254" type="System">
                            <param id="0" name="Variable">TotalCitizensSaved</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="3492484154212261" type="System">
                            <param id="0" name="Variable">TotalCandyBulletCount</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="1734227522990118" type="System">
                            <param id="0" name="Variable">TotalRainbowBulletCount</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="666268101083496">
                    <conditions>
                        <condition id="-3" name="On end of layout" sid="5119093345205497" type="System" />
                    </conditions>
                    <actions>
                        <action id="33" name="Stop all" sid="1471847204013223" type="Audio" />
                        <action id="-9" name="Set value" sid="4215058453858153" type="System">
                            <param id="0" name="Variable">TotalCitizensSaved</param>
                            <param id="1" name="Value">Player.CitizensSaved</param>
                        </action>
                        <action id="-9" name="Set value" sid="8539176332637744" type="System">
                            <param id="0" name="Variable">TotalCandyBulletCount</param>
                            <param id="1" name="Value">Player.CandyBulletCount</param>
                        </action>
                        <action id="-9" name="Set value" sid="2038716896596615" type="System">
                            <param id="0" name="Variable">TotalRainbowBulletCount</param>
                            <param id="1" name="Value">Player.RainbowBulletCount</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="2277908752177421" title="Keyboard Controls">
            <sub-events>
                <event-block any="1" sid="9336584603261959">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="7197555392308903" type="Keyboard">
                            <param id="0" name="Key">38 (Up arrow)</param>
                        </condition>
                        <condition id="0" name="On key pressed" sid="9958390225538308" type="Keyboard">
                            <param id="0" name="Key">87 (W)</param>
                        </condition>
                        <condition id="0" name="On key pressed" sid="5304581303388935" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="9918994764614297" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                        <action id="4" name="Set animation" sid="9826000723902648" type="Player">
                            <param id="0" name="Animation">&quot;Jump&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block any="1" sid="5249092349168983">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="5377541064976613" type="Keyboard">
                            <param id="0" name="Key">40 (Down arrow)</param>
                        </condition>
                        <condition id="0" name="On key pressed" sid="2112935970301853" type="Keyboard">
                            <param id="0" name="Key">83 (S)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="12" name="Fall through" sid="7853664786470434" type="Player" />
                    </actions>
                </event-block>
                <event-block sid="7601380928924078">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="7399986974982776" type="Keyboard">
                            <param id="0" name="Key">27 (Esc)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-2" name="Go to layout" sid="4352074557897129" type="System">
                            <param id="0" name="Layout">1_TitleScreen</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1541275817107836" title="Mouse Controls">
            <sub-events>
                <event-block sid="2988884189995982">
                    <conditions>
                        <condition id="0" name="On click" sid="5274187753241398" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="8418633065156638" type="Player">
                            <param id="0" name="Instance variable">CandyBulletCount</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="2763644814783278" type="Player">
                            <param id="0" name="Object">CandyBullet</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="0" name="Play" sid="8159614430336161" type="Audio">
                            <param id="0" name="Audio file">Candy</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="6835891031071101" type="Player">
                            <param id="0" name="Instance variable">CandyBulletCount</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Set text" sid="858546290492832" type="GUI_CandyCountText">
                            <param id="0" name="Text">Player.CandyBulletCount</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="8424865561720926" type="Player">
                            <param id="0" name="Instance variable">Is_Shooting</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="8885566273307511" type="System">
                            <param id="0" name="Seconds">0.25</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="6479672120886099" type="Player">
                            <param id="0" name="Instance variable">Is_Shooting</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2882700379268304">
                    <conditions>
                        <condition id="0" name="On click" sid="9737509637171633" type="Mouse">
                            <param id="0" name="Mouse button">2</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="8179630047897379" type="Player">
                            <param id="0" name="Instance variable">RainbowBulletCount</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="5038121081519642" type="Player">
                            <param id="0" name="Object">RainbowBullet</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="0" name="Play" sid="4427514241830402" type="Audio">
                            <param id="0" name="Audio file">Rainbow</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="3290766119884511" type="Player">
                            <param id="0" name="Instance variable">RainbowBulletCount</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Set text" sid="8619123225696376" type="GUI_RainbowCountText">
                            <param id="0" name="Text">Player.RainbowBulletCount</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="2349300064632944" type="Player">
                            <param id="0" name="Instance variable">Is_Shooting</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="3988128933549481" type="System">
                            <param id="0" name="Seconds">0.25</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="8228007637355046" type="Player">
                            <param id="0" name="Instance variable">Is_Shooting</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="5776695138634966" title="Player Events">
            <sub-events>
                <event-block sid="930097227342318">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="6613198148848888" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="7399054720038625" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="613876798060584" type="PlayerOffset">
                            <param id="0" name="Pin to">Player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-4" name="Set position to another object" sid="1079494129766806" type="PlayerOffset">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="Image point (optional)">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6438569187348239">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="2445661723339334" type="Player" />
                        <condition id="-2" name="Compare Y" sid="3201979402468189" type="Player">
                            <param id="0" name="Comparison">4</param>
                            <param id="1" name="Y co-ordinate">LayoutHeight + Player.Height</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="3327624253529427" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-2" name="Go to layout" sid="1683581340368664" type="System">
                            <param id="0" name="Layout">4_LoseState</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1326640204263262">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="8296538566265268" type="Player">
                            <param id="0" name="Object">WinFlag</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="33" name="Stop all" sid="4930113495340896" type="Audio" />
                        <action id="0" name="Play" sid="3598529665381123" type="Audio">
                            <param id="0" name="Audio file">YouWin</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="7060301231792971" type="Player">
                            <param id="0" name="Max Speed">200</param>
                        </action>
                        <action id="6" name="Set speed" sid="8378529447395737" type="Player">
                            <param id="0" name="Speed">5</param>
                        </action>
                        <action id="-16" name="Wait" sid="5371613768955008" type="System">
                            <param id="0" name="Seconds">1</param>
                        </action>
                        <action behavior="Platform" id="11" name="Set enabled" sid="3732829328998732" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="7855644869010337" type="Player">
                            <param id="0" name="Animation">&quot;Win&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="8977027733221723" type="System">
                            <param id="0" name="Seconds">2</param>
                        </action>
                        <action id="-2" name="Go to layout" sid="8505390253562797" type="System">
                            <param id="0" name="Layout">5_WinState</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3294474919443866">
                    <conditions>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="4609146373552951" type="Player" />
                        <condition id="-7" name="Compare instance variable" sid="6573899808811828" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="1169997631178022" type="Player">
                            <param id="0" name="Animation">&quot;Walk&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2486424167374359">
                    <conditions>
                        <condition behavior="Platform" id="4" name="Is falling" sid="1768148572577981" type="Player" />
                        <condition id="-7" name="Compare instance variable" sid="5207993130480911" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="6849816342038906" type="Player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="9739324929094572">
                    <conditions>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="6259686630114954" type="Player" />
                        <condition id="-8" name="Is boolean instance variable set" sid="5149812759378243" type="Player">
                            <param id="0" name="Instance variable">Is_Shooting</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="7434521300713972" type="Player">
                            <param id="0" name="Animation">&quot;Shoot&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8977442038955393">
                    <conditions>
                        <condition id="-18" name="On created" sid="1389686249431752" type="PlayerBullets" />
                    </conditions>
                    <actions>
                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="1232033702847717" type="PlayerBullets">
                            <param id="0" name="Angle">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3595301714508346">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="7072478750810591" type="PlayerBullets" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="1444530343107894" type="PlayerBullets" />
                    </actions>
                </event-block>
                <event-block sid="6896261940896508">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="2313197106273347" type="Player">
                            <param id="0" name="Object">EnemyBullets</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="826798375407837" type="EnemyBullets" />
                        <action behavior="ScrollTo" id="0" name="Shake" sid="3985958550342938" type="PlayerOffset">
                            <param id="0" name="Magnitude">20</param>
                            <param id="1" name="Duration">0.4</param>
                            <param id="2" name="Mode">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="5057860601528171" type="Player">
                            <param id="0" name="Animation">&quot;Hit&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="0" name="Play" sid="2679798619090717" type="Audio">
                            <param id="0" name="Audio file">PlayerHit</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="5359491103998095" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Value">100</param>
                        </action>
                        <action id="-5" name="Set width" sid="2640746315491199" type="GUI_PlayerHealthGauge">
                            <param id="0" name="Width">Player.PlayerHealth/5</param>
                        </action>
                        <action id="-16" name="Wait" sid="5069095815099592" type="System">
                            <param id="0" name="Seconds">0.25</param>
                        </action>
                        <action id="4" name="Set animation" sid="6463629179804673" type="Player">
                            <param id="0" name="Animation">&quot;Walking&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4449808320166189">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="1289371837063583" type="Player">
                            <param id="0" name="Object">Enemy</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7390981961648948" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="334507663081126" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="ScrollTo" id="0" name="Shake" sid="1310389327159047" type="PlayerOffset">
                            <param id="0" name="Magnitude">20</param>
                            <param id="1" name="Duration">0.4</param>
                            <param id="2" name="Mode">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="3555522508113891" type="Player">
                            <param id="0" name="Animation">&quot;Hit&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="0" name="Play" sid="6289456370384288" type="Audio">
                            <param id="0" name="Audio file">PlayerHit</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="5536815468711678" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Value">100</param>
                        </action>
                        <action id="-5" name="Set width" sid="8440908024195089" type="GUI_PlayerHealthGauge">
                            <param id="0" name="Width">Player.PlayerHealth/5</param>
                        </action>
                        <action id="-16" name="Wait" sid="2274635906593029" type="System">
                            <param id="0" name="Seconds">0.25</param>
                        </action>
                        <action id="4" name="Set animation" sid="5601040111682128" type="Player">
                            <param id="0" name="Animation">&quot;Walking&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3170018277577059">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="3367865433980827" type="Player">
                            <param id="0" name="Object">EnemySpikes</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="6692198062816057" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2644982223337944">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="8971837411160305" type="Player">
                            <param id="0" name="Object">CandyPickup</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="7848480353403226" type="Player">
                            <param id="0" name="Instance variable">CandyBulletCount</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Set text" sid="2903129033124589" type="GUI_CandyCountText">
                            <param id="0" name="Text">Player.CandyBulletCount</param>
                        </action>
                        <action id="-9" name="Destroy" sid="5290217597388453" type="CandyPickup" />
                    </actions>
                </event-block>
                <event-block sid="5267889584972581">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="201146366650052" type="Player">
                            <param id="0" name="Object">RainbowPickup</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="7435529092971083" type="Player">
                            <param id="0" name="Instance variable">RainbowBulletCount</param>
                            <param id="1" name="Value">2</param>
                        </action>
                        <action id="0" name="Set text" sid="9878039426053611" type="GUI_RainbowCountText">
                            <param id="0" name="Text">Player.RainbowBulletCount</param>
                        </action>
                        <action id="-9" name="Destroy" sid="5207707027878083" type="RainbowPickup" />
                    </actions>
                </event-block>
                <event-block sid="8028990476203635">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="9649298825515851" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">750</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="1647144477150163" type="GUI_PlayerHealthGauge">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2109319739753911">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="996024671600293" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">750</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="6447404206117319" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">200</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="6802344718421253" type="GUI_PlayerHealthGauge">
                            <param id="0" name="Animation">&quot;Mid&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4599688261707053">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="4863412386445856" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">200</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="9147474849721973" type="GUI_PlayerHealthGauge">
                            <param id="0" name="Animation">&quot;Low&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3206588824526974">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="6240041579852042" type="Player">
                            <param id="0" name="Instance variable">PlayerHealth</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="758817964169695" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="0" name="Set ignoring input" sid="5540334274252482" type="Player">
                            <param id="0" name="Input">1</param>
                        </action>
                        <action behavior="Platform" id="11" name="Set enabled" sid="7655791346040137" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="5024070096443105" type="Player">
                            <param id="0" name="Animation">&quot;Dying&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="4945283171986235" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action id="-2" name="Go to layout" sid="4059316720644943" type="System">
                            <param id="0" name="Layout">4_LoseState</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="3284885343054906" title="Enemy Events">
            <sub-events>
                <comment>Enemy Bullets</comment>
                <event-block sid="6473319600866784">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="3190518592754492" type="System">
                            <param id="0" name="Interval (seconds)">2</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="7288853480885233" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="1238988352876414" type="Enemy">
                            <param id="0" name="Object">EnemyBullet</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7389703702887003">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="4269558790653592" type="EnemyBullet">
                            <param id="0" name="Object">PlayerBullets</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="6725296700037563" type="EnemyBullet" />
                        <action id="-9" name="Destroy" sid="818805683732827" type="PlayerBullets" />
                    </actions>
                </event-block>
                <event-block sid="249538824375166">
                    <conditions>
                        <condition id="-3" inverted="1" name="Is on-screen" sid="6985563740479721" type="EnemyBullet" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="7324946594221812" type="EnemyBullet" />
                    </actions>
                </event-block>
                <comment>Collision</comment>
                <event-block sid="8060133221087644">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="7862190035851583" type="Enemy">
                            <param id="0" name="Object">CandyBullet</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="4910114404946951" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="8195769569075498" type="CandyBullet" />
                        <action id="-11" name="Add to" sid="1453916486325816" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Value">100</param>
                        </action>
                        <action id="4" name="Set animation" sid="1008928670140419" type="Enemy">
                            <param id="0" name="Animation">&quot;HealthUp&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="2794531616668136" type="System">
                            <param id="0" name="Seconds">0.5</param>
                        </action>
                        <action id="4" name="Set animation" sid="1712692720760536" type="Enemy">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="2317035405734433">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="6107538514008398" type="Enemy">
                            <param id="0" name="Object">RainbowBullet</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="6789758320827376" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="7764569860381405" type="RainbowBullet" />
                        <action id="-12" name="Subtract from" sid="3809457227053149" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Value">300</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9119855126233763">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="7926454456880144" type="Enemy">
                            <param id="0" name="Instance variable">EnemyHealth</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="326618907547896" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="6035956335224643" type="Enemy">
                            <param id="0" name="Object">CandyPickup</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="-11" name="Add to" sid="1372566425267563" type="Player">
                            <param id="0" name="Instance variable">EnemiesKilled</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="5523923626917264" type="Enemy">
                            <param id="0" name="Animation">&quot;Hit&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Fade" id="1" name="Start fade" sid="4160867751570274" type="Enemy" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="1990243187300485" title="Citizen Events">
            <sub-events>
                <event-block sid="2514430907756118">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="4004002082097293" type="Citizens">
                            <param id="0" name="Object">CandyBullet</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5113344800931263" type="Citizens">
                            <param id="0" name="Instance variable">CitizenHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="2" inverted="1" name="Is playing" sid="1502716071532276" type="Citizens">
                            <param id="0" name="Animation">&quot;Happy&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="1764329246926324" type="CandyBullet" />
                        <action id="-12" name="Subtract from" sid="6923473071802369" type="Citizens">
                            <param id="0" name="Instance variable">CitizenHealth</param>
                            <param id="1" name="Value">300</param>
                        </action>
                        <action id="-11" name="Add to" sid="5730848300268635" type="Player">
                            <param id="0" name="Instance variable">CitizensSaved</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Set text" sid="2768659895549197" type="GUI_CitizenCountText">
                            <param id="0" name="Text">Player.CitizensSaved</param>
                        </action>
                        <action id="4" name="Set animation" sid="4672088954086428" type="Citizens">
                            <param id="0" name="Animation">&quot;Happy&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Fade" id="1" name="Start fade" sid="6293105971881477" type="Citizens" />
                        <action id="0" name="Spawn another object" sid="1767368943389186" type="Citizens">
                            <param id="0" name="Object">RainbowPickup</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9291110976263096">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="4763356001583093" type="Citizens">
                            <param id="0" name="Object">RainbowBullet</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="3878301994580274" type="Citizens">
                            <param id="0" name="Instance variable">CitizenHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="5482023810531685" type="RainbowBullet" />
                        <action id="-12" name="Subtract from" sid="3960449104665427" type="Citizens">
                            <param id="0" name="Instance variable">CitizenHealth</param>
                            <param id="1" name="Value">300</param>
                        </action>
                        <action id="4" name="Set animation" sid="5575242949582737" type="Citizens">
                            <param id="0" name="Animation">&quot;Dying&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action behavior="Fade" id="1" name="Start fade" sid="1050293954329484" type="Citizens" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
